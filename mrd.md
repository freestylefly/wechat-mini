# 微信小程序需求分析报告

## 1. 产品概述

### 1.1 产品名称

八字命理小助手（暂定名）

### 1.2 产品定位

一款基于微信小程序平台，结合传统命理学和现代AI技术的个人命理分析工具。用户只需输入阳历出生日期和时辰，系统自动计算农历日期、天干地支、五行属性、五行缺失情况及生肖，并通过DeepSeek API提供智能命理分析。

### 1.3 核心功能

- 阳历转农历日期计算
- 天干地支计算
- 五行属性及缺失分析
- 生肖查询
- 基于DeepSeek API的命理解读

### 1.4 目标用户

- 对命理、生辰八字感兴趣的普通用户
- 寻求个人命运参考和指导的用户
- 对中国传统文化感兴趣的用户

## 2. 用户需求分析

### 2.1 目标用户群体

- **主要用户群体**：25-45岁对命理学有兴趣的都市人群
- **次要用户群体**：
  - 18-24岁好奇传统文化的年轻人
  - 46-60岁对命理学有传统信仰的中老年人
  - 对AI与传统文化结合感兴趣的科技爱好者

### 2.2 使用场景

- 用户想了解自己的命理特点
- 用户想分析家人或朋友的八字
- 用户在人生关键决策点寻求命理参考
- 对传统文化学习过程中希望理解八字命理

### 2.3 核心需求

1. **准确性**：精确计算农历日期、天干地支等基础命理要素
2. **便捷性**：简单的操作流程，无需专业知识即可获取结果
3. **个性化**：基于个人出生信息提供定制化解读
4. **知识普及**：提供基础命理学知识，帮助用户理解结果含义
5. **隐私保护**：确保用户敏感信息安全

## 3. 功能需求

### 3.1 基础信息输入

- **必填项**：
  - 阳历出生年月日（日期选择器）
  - 出生时辰（24小时制或传统时辰选择）
- **选填项**：
  - 性别（用于部分命理分析）
  - 姓名（用于个性化展示）

### 3.2 命理要素计算

#### 3.2.1 农历日期转换

- **输入**：阳历年月日
- **输出**：对应的农历年月日
- **实现方式**：调用农历转换算法库

#### 3.2.2 天干地支计算

- **输入**：农历年月日时
- **输出**：年柱、月柱、日柱、时柱的天干地支
- **实现方式**：根据传统命理学规则计算

#### 3.2.3 五行属性分析

- **输入**：四柱天干地支
- **输出**：
  - 各天干地支所属五行
  - 用户五行强弱统计
  - 五行缺失情况
- **实现方式**：基于命理学规则分析

#### 3.2.4 生肖查询

- **输入**：出生年份（农历）
- **输出**：对应生肖及简要特点
- **实现方式**：生肖对照表查询

### 3.3 AI命理解读

- **输入**：
  - 用户基础信息
  - 计算出的命理要素
- **输出**：
  - 个性化命理特点分析
  - 性格特点描述
  - 适合发展方向建议
- **实现方式**：调用DeepSeek API，传入结构化数据进行推理

### 3.4 用户数据管理

- 历史查询记录保存
- 多人信息管理（可添加家人朋友信息）
- 数据导出功能

### 3.5 API交互

#### DeepSeek API调用规范

- **请求方式**：POST请求
- **参数格式**：JSON格式包含用户信息和命理要素
- **响应处理**：解析API返回结果，结构化展示
- **错误处理**：请求失败重试机制，超时提示
- **调用频率**：考虑API限流，实现本地缓存减少调用

## 4. 关键业务流程

### 4.1 基础命理分析流程

1. 用户打开小程序，进入首页
2. 用户选择/输入阳历出生日期和时辰
3. 系统计算农历日期、天干地支等基础命理要素
4. 展示基础命理分析结果（农历、天干地支、五行、生肖）
5. 用户可保存/分享结果

### 4.2 AI命理解读流程

1. 用户完成基础命理分析后，选择"AI命理解读"
2. 系统调用DeepSeek API，传输结构化数据
3. 显示加载动画，等待API响应
4. 接收并解析API返回结果
5. 结构化展示AI解读内容
6. 用户可保存/分享AI解读结果

### 4.3 用户数据管理流程

1. 用户登录/注册（微信一键登录）
2. 系统自动保存查询历史
3. 用户可添加多个人物信息（家人朋友）
4. 用户可查看/编辑/删除历史记录
5. 可选择导出数据（PDF格式）

## 5. 开发周期

### 5.1 MVP版本（预计2-3周）

- **核心功能**：
  - 阳历日期和时辰输入
  - 基础命理要素计算（农历、天干地支、五行、生肖）
  - 简单结果展示界面
  - 微信授权登录

### 5.2 第二阶段（预计2周）

- **功能扩展**：
  - DeepSeek API集成
  - AI命理解读功能
  - 结果保存功能
  - 用户界面优化

### 5.3 第三阶段（预计2周）

- **功能完善**：
  - 多人信息管理
  - 历史记录管理
  - 分享功能
  - 用户反馈机制

### 5.4 迭代优化阶段（持续）

- 用户体验优化
- 命理算法精确度提升
- AI解读质量优化
- 新功能规划与上线

## 6. 商业模式

### 6.1 基础模式

- **免费功能**：
  - 基础命理要素计算
  - 简单命理分析
  - 有限次数的AI解读（如每月3次）
- **付费功能**：
  - 无限次AI命理解读
  - 高级命理分析（流年运势、婚姻分析等）
  - PDF格式报告导出
  - 无广告体验

### 6.2 会员订阅

- **月度会员**：9.9元/月
- **年度会员**：88元/年
- **终身会员**：198元

### 6.3 其他收入来源

- 相关产品推荐（如开运饰品、命理书籍等）
- 线下命理大师合作推广
- 定制化命理分析服务

### 6.4 用户增长策略

- 微信社交分享激励
- 节日/特殊日期活动推广
- 免费体验券发放
- 用户推荐奖励机制

## 7. 风险与合规性

### 7.1 潜在风险

- 命理分析准确性质疑
- 用户过度依赖命理分析
- AI解读内容质量控制
- 用户隐私数据保护

### 7.2 合规要求

- 明确声明命理分析仅供参考，不应作为重大决策依据
- 用户协议中明确数据使用范围与目的
- 遵循微信小程序相关政策要求
- 确保AI生成内容不涉及迷信、极端内容

## 8. 技术要求

### 8.1 前端技术栈

- 微信小程序原生开发
- WXML/WXSS/JavaScript
- 微信开发者工具

### 8.2 后端技术栈

- 云开发或独立服务器
- Node.js/Python后端服务
- 数据库：MongoDB或MySQL

### 8.3 核心算法库

- 阳历转农历算法库
- 天干地支计算库
- 五行分析算法

### 8.4 第三方API

- DeepSeek API
- 微信支付API
- 微信用户信息API

## 9. 未来规划

### 9.1 功能扩展方向

- 八字合婚分析
- 每日/每月运势提醒
- 周易占卜功能
- 命理知识学习模块

### 9.2 商业扩展

- 线上线下命理顾问对接
- 开设命理知识付费课程
- 发展相关产品电商系统

### 9.3 技术迭代

- 引入更多AI模型
- 优化命理算法准确性
- 增加数据可视化展示
- 引入语音交互功能