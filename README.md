# ç”Ÿè¾°åˆ†æå°ç¨‹åº

![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)
![Platform](https://img.shields.io/badge/platform-WeChat-green.svg)
![AI-Powered](https://img.shields.io/badge/AI--Powered-Yes-orange.svg)

åŸºäºå¾®ä¿¡å°ç¨‹åºå¹³å°çš„ä¸ªäººç”Ÿè¾°æ•°æ®åˆ†æåº”ç”¨ã€‚é€šè¿‡ç®€å•è¾“å…¥å‡ºç”Ÿæ—¥æœŸå’Œæ—¶è¾°ï¼Œè·å–è¯¦ç»†çš„å†œå†æ—¥æœŸã€ç”Ÿè‚–ã€å¤©å¹²åœ°æ”¯å’Œäº”è¡Œåˆ†æï¼Œç»“åˆAIæŠ€æœ¯æä¾›ä¸ªæ€§åŒ–å‘½ç†è§£è¯»ã€‚

> ğŸ”¥ **ç‰¹åˆ«è¯´æ˜**ï¼šæœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªé¢å‘AIç¼–ç¨‹å­¦ä¹ çš„å¼€æºæ•™ç¨‹é¡¹ç›®ï¼Œå®Œæ•´å±•ç¤ºäº†å¦‚ä½•åˆ©ç”¨AIæŠ€æœ¯ä»é›¶åˆ°ä¸€å¿«é€Ÿæ„å»ºä¸€ä¸ªå®ç”¨å¾®ä¿¡å°ç¨‹åºã€‚ä»éœ€æ±‚åˆ†æã€ç³»ç»Ÿè®¾è®¡ã€å‰åç«¯å¼€å‘åˆ°æœ€ç»ˆéƒ¨ç½²ä¸Šçº¿ï¼Œæä¾›å…¨æµç¨‹ã€å…¨æ²‰æµ¸å¼çš„å®æˆ˜æ•™å­¦ä½“éªŒã€‚æ— è®ºä½ æ˜¯AIç¼–ç¨‹æ–°æ‰‹è¿˜æ˜¯æœ‰ç»éªŒçš„å¼€å‘è€…ï¼Œéƒ½èƒ½ä»ä¸­å­¦ä¹ å¦‚ä½•é«˜æ•ˆåˆ©ç”¨AIå·¥å…·è¿›è¡Œç°ä»£åº”ç”¨å¼€å‘ã€‚

## ğŸ“‹ åŠŸèƒ½ç‰¹ç‚¹

- ğŸ”„ é˜³å†æ—¥æœŸè‡ªåŠ¨è½¬æ¢ä¸ºå†œå†æ—¥æœŸ
- ğŸ§® å…«å­—æ’ç›˜ä¸å¤©å¹²åœ°æ”¯è®¡ç®—
- ğŸ” äº”è¡Œå±æ€§ä¸ç¼ºå¤±åˆ†æ
- ğŸ¯ ç”Ÿè‚–æŸ¥è¯¢ä¸è§£è¯»
- ğŸ¤– åŸºäºAIçš„ç»¼åˆå‘½ç†åˆ†æ
- ğŸ“± å¾®ä¿¡å°ç¨‹åºæ— éœ€å®‰è£…ï¼Œæ‰«ç å³ç”¨

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

- **å‰ç«¯**ï¼šå¾®ä¿¡å°ç¨‹åºï¼ˆåŸç”Ÿå¼€å‘ï¼‰
- **åç«¯**ï¼šJava Spring Boot RESTful API
- **AIé›†æˆ**ï¼šæ”¯æŒDeepSeekæˆ–ç«å±±å¼•æ“AIæœåŠ¡

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- å¾®ä¿¡å°ç¨‹åºå¼€å‘æ¡†æ¶
- Java Spring Boot 2.7+
- Python 3.8+ (AIå¼€å‘ç¯å¢ƒ)
- Maven æ„å»ºå·¥å…·
- RESTful API è®¾è®¡
- AI å¤§æ¨¡å‹é›†æˆ
- Nginx åå‘ä»£ç†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### AIå¼€å‘ç¯å¢ƒé…ç½®

1. å®‰è£…Pythonç¯å¢ƒ
   ```bash
   # å®‰è£…Python 3.8æˆ–æ›´é«˜ç‰ˆæœ¬
   python --version  # ç¡®è®¤Pythonç‰ˆæœ¬
   
   # åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
   python -m venv venv
   source venv/bin/activate  # Linux/Mac
   # æˆ–
   .\venv\Scripts\activate  # Windows
   
   # å®‰è£…å¿…è¦çš„AIå¼€å‘åŒ…
   pip install cursor-runtime
   pip install openai
   pip install transformers
   ```

2. é…ç½®å¼€å‘å·¥å…·
   - å®‰è£… [Visual Studio Code](https://code.visualstudio.com/)
   - å®‰è£… [Cursor](https://cursor.sh/) - AIè¾…åŠ©ç¼–ç¨‹å·¥å…·
   - é…ç½®ç›¸å…³æ’ä»¶å’Œæ‰©å±•

### å‰ç«¯éƒ¨ç½²

1. å…‹éš†æœ¬ä»“åº“
   ```bash
   git clone https://github.com/yourusername/bazi-mini-program.git
   ```

2. ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€ `bazi-frontend` ç›®å½•

3. é…ç½®å°ç¨‹åºä¿¡æ¯
   - ä¿®æ”¹ `project.config.json` ä¸­çš„ appid:
     ```json
     {
       "appid": "YOUR_WECHAT_APPID"
     }
     ```
   - åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°æ³¨å†Œå¹¶è·å– appid: [å¾®ä¿¡å…¬ä¼—å¹³å°](https://mp.weixin.qq.com/)

4. é…ç½®å¼€å‘ç¯å¢ƒ
   - **æ–¹æ³•ä¸€**: ç›´æ¥ä¿®æ”¹ `bazi-frontend/config/api.js` ä¸­çš„é…ç½®:
     ```javascript
     // å¼€å‘ç¯å¢ƒ
     [ENV.DEV]: 'http://localhost:8080/api',
     // ç”Ÿäº§ç¯å¢ƒï¼ˆæ›¿æ¢ä¸ºä½ çš„åŸŸåï¼‰
     [ENV.PROD]: 'https://api.your-domain.com/api',
     ```
   - **æ–¹æ³•äºŒ**: ä½¿ç”¨å°ç¨‹åºå†…ç½®çš„å¼€å‘é…ç½®åŠŸèƒ½
     1. åœ¨å¼€å‘æ¨¡å¼ä¸‹è¿è¡Œå°ç¨‹åº
     2. é¦–é¡µç‚¹å‡»"âš™ï¸ å¼€å‘é…ç½®"æŒ‰é’®
     3. åœ¨é…ç½®é¡µé¢ä¸­è®¾ç½®APIåœ°å€å’Œç¯å¢ƒ

5. ç¼–è¯‘é¢„è§ˆå°ç¨‹åº

### åç«¯éƒ¨ç½²

1. é…ç½®APIå¯†é’¥ï¼ˆéœ€è¦è‡ªè¡Œç”³è¯·ï¼‰
   - [DeepSeek API](https://www.deepseek.com)ç”³è¯·åœ°å€
   - [ç«å±±å¼•æ“API](https://www.volcengine.com)ç”³è¯·åœ°å€
   - è¯¦ç»†ç”³è¯·æ­¥éª¤è¯·å‚è€ƒ[APIå¯†é’¥ç”³è¯·æŒ‡å—](api-key-guide.md)

2. é…ç½®å¼€å‘ç¯å¢ƒ
   - **æ–¹æ³•ä¸€**: ä½¿ç”¨æœ¬åœ°ç¯å¢ƒé…ç½®ï¼ˆæ¨èå¼€å‘ä½¿ç”¨ï¼‰
     ```bash
     # å¤åˆ¶æœ¬åœ°é…ç½®æ¨¡æ¿
     cp bazi-backend/src/main/resources/application-local.template.yml bazi-backend/src/main/resources/application-local.yml
     
     # ç¼–è¾‘application-local.ymlæ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„APIå¯†é’¥
     ```
   - **æ–¹æ³•äºŒ**: é€šè¿‡ç¯å¢ƒå˜é‡æˆ–JVMå‚æ•°é…ç½®
     ```bash
     # Linux/Mac
     export DEEPSEEK_API_KEY=your_api_key
     export VOLCENGINE_API_KEY=your_api_key
     
     # Windows
     set DEEPSEEK_API_KEY=your_api_key
     set VOLCENGINE_API_KEY=your_api_key
     ```

3. ä½¿ç”¨Mavenæ‰“åŒ…
   ```bash
   cd bazi-backend
   mvn clean package
   ```

4. è¿è¡ŒSpring Bootåº”ç”¨
   ```bash
   # ä½¿ç”¨æœ¬åœ°é…ç½®å¯åŠ¨
   java -Dspring.profiles.active=local -jar target/bazi-backend-0.1.0.jar
   
   # æˆ–ä½¿ç”¨å¼€å‘ç¯å¢ƒé…ç½®
   java -Dspring.profiles.active=dev -jar target/bazi-backend-0.1.0.jar
   
   # ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
   java -Dspring.profiles.active=prod -jar target/bazi-backend-0.1.0.jar
   ```

> ğŸ”’ æ³¨æ„: æœ¬åœ°é…ç½®æ–‡ä»¶(application-local.yml)å·²æ·»åŠ åˆ°.gitignoreï¼Œä¸ä¼šè¢«æäº¤åˆ°ä»£ç ä»“åº“

## ğŸ” æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®

ä¸ºäº†è§£å†³æœ¬åœ°å¼€å‘æ—¶æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚APIå¯†é’¥ã€åŸŸåç­‰ï¼‰çš„ç®¡ç†é—®é¢˜ï¼Œæœ¬é¡¹ç›®æä¾›äº†ä¸€å¥—å®‰å…¨çš„æœ¬åœ°é…ç½®æ–¹æ¡ˆã€‚

### å‰ç«¯æœ¬åœ°é…ç½®

å°ç¨‹åºå‰ç«¯ä½¿ç”¨`.env`æ–‡ä»¶å’Œæ„å»ºè„šæœ¬æ¥ç®¡ç†ç¯å¢ƒé…ç½®ï¼š

1. **é¦–æ¬¡é…ç½®æ­¥éª¤**
   - è¿›å…¥å‰ç«¯ç›®å½•ï¼š`cd bazi-frontend`
   - å¤åˆ¶æ¨¡æ¿æ–‡ä»¶ï¼š`cp .env.template .env`
   - ç¼–è¾‘`.env`æ–‡ä»¶ï¼Œè®¾ç½®æ‚¨çš„é…ç½®é¡¹ï¼š
     ```
     # ç¯å¢ƒè®¾ç½® (development æˆ– production)
     CURRENT_ENV=development  # æ”¹ä¸ºproductionä½¿ç”¨ç”Ÿäº§ç¯å¢ƒ
     
     # APIåœ°å€é…ç½®
     DEV_API_URL=http://localhost:8080/api
     PROD_API_URL=https://your-actual-domain.com/api
     ```
   - å®‰è£…ä¾èµ–ï¼š`npm install`ï¼Œå¦‚æœå›½å†…ä¸‹è½½å¤ªæ…¢ï¼Œå¯ä»¥ä½¿ç”¨ï¼š`npm install --registry=https://registry.npmmirror.com`
   - åº”ç”¨é…ç½®ï¼š`npm run config`

2. **åˆ‡æ¢ç¯å¢ƒ**
   - ç¼–è¾‘`bazi-frontend/.env`æ–‡ä»¶ï¼ˆæ³¨æ„ä½ç½®ï¼‰
   - ä¿®æ”¹`CURRENT_ENV`çš„å€¼ï¼š
     - `CURRENT_ENV=development` ä½¿ç”¨æœ¬åœ°å¼€å‘ç¯å¢ƒ
     - `CURRENT_ENV=production` ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒ
   - é‡æ–°åº”ç”¨é…ç½®ï¼š`cd bazi-frontend && npm run config`

3. **æ³¨æ„äº‹é¡¹**
   - `.env`æ–‡ä»¶å¿…é¡»æ”¾åœ¨`bazi-frontend/`ç›®å½•ä¸‹ï¼Œä¸æ˜¯åœ¨`config/`å­ç›®å½•
   - æ¯æ¬¡ä¿®æ”¹`.env`åå¿…é¡»è¿è¡Œ`npm run config`ä½¿é…ç½®ç”Ÿæ•ˆ
   - é…ç½®è„šæœ¬ä¼šå°†è®¾ç½®åº”ç”¨åˆ°`config/api.js`æ–‡ä»¶ä¸­

### åç«¯æœ¬åœ°é…ç½®

åç«¯ä½¿ç”¨ç¯å¢ƒå˜é‡å’Œ`.env`æ–‡ä»¶ç®¡ç†æ•æ„Ÿé…ç½®ï¼š

1. **åˆ›å»ºæœ¬åœ°é…ç½®æ–‡ä»¶**
   - å¤åˆ¶`bazi-backend/.env.template`ä¸º`.env`ï¼ˆå·²åŠ å…¥.gitignoreï¼‰
   - å¡«å†™å®é™…çš„APIå¯†é’¥å’Œå…¶ä»–æ•æ„Ÿä¿¡æ¯
   ```
   # DeepSeek APIé…ç½®
   DEEPSEEK_API_KEY=your_actual_key_here
   
   # ç«å±±å¼•æ“APIé…ç½®
   VOLCENGINE_API_KEY=your_actual_key_here
   ```

2. **è‡ªåŠ¨åŠ è½½æœºåˆ¶**
   - åº”ç”¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶åŠ è½½`.env`æ–‡ä»¶
   - Spring Bootä½¿ç”¨ç¯å¢ƒå˜é‡å ä½ç¬¦è¯»å–è¿™äº›å€¼
   - è¯¦è§`bazi-backend/src/main/java/com/bazi/config/AppConfig.java`

### ç¯å¢ƒé…ç½®æ–‡ä»¶ç»“æ„

```
wechat-mini/
â”œâ”€â”€ bazi-frontend/
â”‚   â”œâ”€â”€ .env              <- å‰ç«¯ç¯å¢ƒé…ç½®æ–‡ä»¶æ”¾è¿™é‡Œ
â”‚   â”œâ”€â”€ .env.template     <- å‰ç«¯é…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ api.js        <- APIé…ç½®ï¼ˆç”±è„šæœ¬è‡ªåŠ¨æ›´æ–°ï¼‰
â”‚   â”‚   â””â”€â”€ scripts/
â”‚   â”‚       â””â”€â”€ env-config.js  <- ç¯å¢ƒé…ç½®è„šæœ¬
â”‚   â””â”€â”€ package.json      <- åŒ…å«npm run configå‘½ä»¤
â”œâ”€â”€ bazi-backend/
â”‚   â”œâ”€â”€ .env              <- åç«¯ç¯å¢ƒé…ç½®æ–‡ä»¶æ”¾è¿™é‡Œ
â”‚   â””â”€â”€ .env.template     <- åç«¯é…ç½®æ¨¡æ¿
```

### å®‰å…¨æœ€ä½³å®è·µ

1. **æäº¤ä»£ç å‰æ£€æŸ¥**
   - ç¡®ä¿`.env`æ–‡ä»¶å·²æ·»åŠ åˆ°`.gitignore`
   - ä¸è¦æäº¤åŒ…å«å®é™…APIå¯†é’¥çš„é…ç½®æ–‡ä»¶
   
2. **å®šæœŸè½®æ¢å¯†é’¥**
   - å®šæœŸæ›´æ¢APIå¯†é’¥å¢å¼ºå®‰å…¨æ€§
   - å‘ç°æ³„éœ²ç«‹å³æ›´æ¢

> ğŸ“ æ›´å¤šè¯¦æƒ…ï¼Œè¯·å‚é˜…[æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®æŒ‡å—](local-dev-guide.md)

## ğŸ“ APIä½¿ç”¨è¯´æ˜

### å…«å­—è®¡ç®—æ¥å£

**è¯·æ±‚**ï¼š
```
POST /api/bazi/calculate
```

**å‚æ•°**ï¼š
```json
{
  "year": 2000,
  "month": 1,
  "day": 1,
  "hour": 0,
  "gender": "ç”·"
}
```

**å“åº”**ï¼š
```json
{
  "gregorianDate": "2000å¹´1æœˆ1æ—¥",
  "lunarDate": "å·±å¯å¹´åä¸€æœˆå»¿å››",
  "eightCharacters": "å·±å¯-ä¸™å­-å£¬åˆ-å£¬å­",
  "fiveElements": "åœŸæœ¨-ç«æ°´-æ°´ç«-æ°´æ°´",
  "missingElements": "ç¼ºé‡‘åœŸ",
  "zodiac": "å…”",
  "analysis": "..."
}
```

## ğŸš¢ åç«¯éƒ¨ç½²æŒ‡å—

### JARåŒ…éƒ¨ç½²æ–¹å¼

#### 1. å‡†å¤‡ç¯å¢ƒ

- å®‰è£…JDK 11æˆ–æ›´é«˜ç‰ˆæœ¬
  ```bash
  # æ£€æŸ¥Javaç‰ˆæœ¬
  java -version
  
  # å¦‚æœæ²¡æœ‰å®‰è£…ï¼Œè¯·å®‰è£…OpenJDKæˆ–Oracle JDK
  # Ubuntuç³»ç»Ÿï¼š
  sudo apt update
  sudo apt install openjdk-11-jdk
  
  # CentOS/RHELç³»ç»Ÿï¼š
  sudo yum install java-11-openjdk-devel
  
  # macOSç³»ç»Ÿï¼š
  brew install openjdk@11
  ```

#### 2. æ‰“åŒ…åº”ç”¨

```bash
# è¿›å…¥åç«¯é¡¹ç›®ç›®å½•
cd bazi-backend

# ä½¿ç”¨Mavenæ‰“åŒ…
mvn clean package -DskipTests
```

#### 3. é…ç½®ç¯å¢ƒå˜é‡

```bash
# åˆ›å»ºä¸€ä¸ª.envæ–‡ä»¶
cat > .env << EOL
# æœåŠ¡å™¨é…ç½®
SERVER_PORT=6803

# AIæœåŠ¡é…ç½®
AI_PROVIDER=volcengine  # å¯é€‰ï¼švolcengine, deepseek

# DeepSeek APIé…ç½®
DEEPSEEK_API_URL=https://api.deepseek.com/v1/chat/completions
DEEPSEEK_API_KEY=your_deepseek_api_key_here

# ç«å±±å¼•æ“APIé…ç½®
VOLCENGINE_API_KEY=your_volcengine_api_key_here
VOLCENGINE_MODEL=doubao-lite-128k-240828

# è·¨åŸŸè®¾ç½®
CORS_ALLOWED_ORIGINS=*
EOL
```

#### 4. å¯åŠ¨åº”ç”¨

```bash
# ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒé…ç½®å¯åŠ¨
java -Dspring.profiles.active=prod -jar target/bazi-backend-0.1.0.jar

# æˆ–è€…ä».envæ–‡ä»¶åŠ è½½ç¯å¢ƒå˜é‡
export $(grep -v '^#' .env | xargs)
java -Dspring.profiles.active=prod -jar target/bazi-backend-0.1.0.jar
```

#### 5. ä½¿ç”¨systemdç®¡ç†æœåŠ¡ï¼ˆLinuxç³»ç»Ÿï¼‰

```bash
# åˆ›å»ºsystemdæœåŠ¡æ–‡ä»¶
sudo cat > /etc/systemd/system/bazi-backend.service << EOL
[Unit]
Description=Bazi Backend Service
After=network.target

[Service]
User=youruser
WorkingDirectory=/path/to/bazi-backend
ExecStart=/usr/bin/java -Dspring.profiles.active=prod -jar /path/to/bazi-backend/target/bazi-backend-0.1.0.jar
SuccessExitStatus=143
TimeoutStopSec=10
Restart=on-failure
RestartSec=5
EnvironmentFile=/path/to/bazi-backend/.env

[Install]
WantedBy=multi-user.target
EOL

# å¯åŠ¨æœåŠ¡
sudo systemctl daemon-reload
sudo systemctl start bazi-backend
sudo systemctl enable bazi-backend

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
sudo systemctl status bazi-backend

# æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u bazi-backend -f
```

### Dockeréƒ¨ç½²æ–¹å¼

#### 1. åˆ›å»ºDockerfile

åœ¨åç«¯é¡¹ç›®æ ¹ç›®å½•åˆ›å»º`Dockerfile`æ–‡ä»¶ï¼š

```bash
cat > Dockerfile << EOL
FROM openjdk:11-jre-slim

WORKDIR /app

# å¤åˆ¶é¡¹ç›®JARåŒ…
COPY target/bazi-backend-0.1.0.jar /app/bazi-backend.jar

# è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡docker-composeæˆ–å¯åŠ¨å‘½ä»¤è®¾ç½®ï¼‰
ENV SPRING_PROFILES_ACTIVE=prod

# æš´éœ²ç«¯å£
EXPOSE 6803

# å¯åŠ¨å‘½ä»¤
ENTRYPOINT ["java", "-jar", "/app/bazi-backend.jar"]
EOL
```

#### 2. åˆ›å»ºdocker-compose.yml

```bash
cat > docker-compose.yml << EOL
version: '3'

services:
  bazi-backend:
    build: .
    container_name: bazi-backend
    restart: always
    ports:
      - "6803:6803"
    environment:
      - SPRING_PROFILES_ACTIVE=prod
      - DEEPSEEK_API_KEY=your_deepseek_api_key_here
      - VOLCENGINE_API_KEY=your_volcengine_api_key_here
      - CORS_ALLOWED_ORIGINS=*
    volumes:
      - ./logs:/var/log/bazi-backend
EOL
```

#### 3. æ„å»ºå’Œå¯åŠ¨Dockerå®¹å™¨

```bash
# æ„å»ºDockeré•œåƒ
docker build -t bazi-backend .

# ä½¿ç”¨docker-composeå¯åŠ¨
docker-compose up -d

# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs -f bazi-backend

# æˆ–ä½¿ç”¨docker-composeæŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

#### 4. ä½¿ç”¨.envæ–‡ä»¶é…ç½®Dockerç¯å¢ƒå˜é‡

ä¹Ÿå¯ä»¥åˆ›å»º`.env`æ–‡ä»¶ï¼Œç„¶ååœ¨`docker-compose.yml`ä¸­å¼•ç”¨ï¼š

```bash
# åˆ›å»º.envæ–‡ä»¶ï¼ˆä¸å‰é¢ç›¸åŒï¼‰
cat > .env << EOL
# æœåŠ¡å™¨é…ç½®
SERVER_PORT=6803
SPRING_PROFILES_ACTIVE=prod

# AIæœåŠ¡é…ç½®
AI_PROVIDER=volcengine

# DeepSeek APIé…ç½®
DEEPSEEK_API_URL=https://api.deepseek.com/v1/chat/completions
DEEPSEEK_API_KEY=your_deepseek_api_key_here

# ç«å±±å¼•æ“APIé…ç½®
VOLCENGINE_API_KEY=your_volcengine_api_key_here
VOLCENGINE_MODEL=doubao-lite-128k-240828

# è·¨åŸŸè®¾ç½®
CORS_ALLOWED_ORIGINS=*
EOL

# ä¿®æ”¹docker-compose.ymlå¼•ç”¨.envæ–‡ä»¶
cat > docker-compose.yml << EOL
version: '3'

services:
  bazi-backend:
    build: .
    container_name: bazi-backend
    restart: always
    ports:
      - "\${SERVER_PORT}:\${SERVER_PORT}"
    env_file: .env
    volumes:
      - ./logs:/var/log/bazi-backend
EOL

# å¯åŠ¨å®¹å™¨
docker-compose up -d
```

### ç”Ÿäº§ç¯å¢ƒé…ç½®æ³¨æ„äº‹é¡¹

1. **å®‰å…¨æ€§è€ƒè™‘**
   - é¿å…åœ¨ä»£ç ä»“åº“ä¸­å­˜å‚¨æ•æ„Ÿä¿¡æ¯
   - ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å¤–éƒ¨é…ç½®æ–‡ä»¶å­˜å‚¨APIå¯†é’¥
   - æ­£å¼ç¯å¢ƒå»ºè®®ä½¿ç”¨HTTPSåŠ å¯†é€šä¿¡

2. **æ€§èƒ½ä¼˜åŒ–**
   - å¢åŠ JVMå†…å­˜åˆ†é…: `-Xmx512m -Xms256m`
   - å¯ç”¨GCæ—¥å¿—è®°å½•: `-Xlog:gc*`
   - ç”Ÿäº§ç¯å¢ƒå¢åŠ max-connectionså‚æ•°

3. **ç›‘æ§ä¸æ—¥å¿—**
   - é…ç½®é›†ä¸­å¼æ—¥å¿—æ”¶é›†
   - è®¾ç½®åº”ç”¨å¥åº·æ£€æŸ¥
   - é…ç½®ç³»ç»Ÿèµ„æºç›‘æ§

4. **é«˜å¯ç”¨éƒ¨ç½²**
   - ä½¿ç”¨Nginxè´Ÿè½½å‡è¡¡
   - é…ç½®å¤šå®ä¾‹éƒ¨ç½²
   - è®¾ç½®è‡ªåŠ¨é‡å¯æœºåˆ¶

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
bazi-mini-program/
â”œâ”€â”€ bazi-frontend/       # å¾®ä¿¡å°ç¨‹åºå‰ç«¯ä»£ç 
â”œâ”€â”€ bazi-backend/        # Java Spring Bootåç«¯ä»£ç 
â”œâ”€â”€ nginx-config.conf    # Nginxé…ç½®ç¤ºä¾‹
â””â”€â”€ docs/                # æ–‡æ¡£å’Œéƒ¨ç½²æŒ‡å—
```

## ğŸ“‹ é…ç½®æ–‡æ¡£

è¯¦ç»†é…ç½®æ–‡æ¡£è¯·å‚é˜…ï¼š
- [æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®æŒ‡å—](local-dev-guide.md)
- [APIå¯†é’¥ç”³è¯·æŒ‡å—](api-key-guide.md)
- [æœåŠ¡å™¨é…ç½®æŒ‡å—](server-config-guide.md)
- [HTTPSé…ç½®æŒ‡å—](https-setup-guide.md)
- [å­åŸŸåé…ç½®æŒ‡å—](subdomain-setup-guide.md)
- [ç”¨ Cursor å¼€å‘å°ç¨‹åºä¸‡å­—æ²‰æµ¸å¼æ•™ç¨‹](https://mp.weixin.qq.com/s/E7jeUn3RNTV7AQK38oEcXg)
- [AI ä¸Šçº¿å¾®ä¿¡å°ç¨‹åºæ•™ç¨‹](https://mp.weixin.qq.com/s/TWbPn-LXEFL1wbYkFf9Gyg)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦æƒ…è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issues å’Œ Pull Requests å¸®åŠ©æ”¹è¿›é¡¹ç›®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºä½ çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤ä½ çš„æ”¹åŠ¨ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»ºä¸€ä¸ª Pull Request

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢æ‰€æœ‰å¼€æºé¡¹ç›®å’Œå·¥å…·çš„è´¡çŒ®è€…
- æ„Ÿè°¢å¾®ä¿¡å°ç¨‹åºå¹³å°æä¾›çš„æŠ€æœ¯æ”¯æŒ

## ğŸ§  AIç¼–ç¨‹æ•™å­¦

![AIå¼€å‘æµç¨‹](https://img.shields.io/badge/AI%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B-%E5%85%A8%E6%B5%81%E7%A8%8B%E5%B1%95%E7%A4%BA-blue)

æœ¬é¡¹ç›®ä¸ä»…æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å¾®ä¿¡å°ç¨‹åºï¼Œæ›´æ˜¯ä¸€ä¸ªAIè¾…åŠ©å¼€å‘çš„ç¤ºèŒƒæ¡ˆä¾‹ï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…äº†è§£å’ŒæŒæ¡ï¼š

- ğŸš€ å¦‚ä½•åˆ©ç”¨AIå¿«é€Ÿæ„å»ºä»æƒ³æ³•åˆ°äº§å“çš„å…¨æµç¨‹
- ğŸ’¡ AIå¤§æ¨¡å‹åœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨åœºæ™¯å’Œé›†æˆæ–¹æ³•
- ğŸ”„ å€ŸåŠ©AIå·¥å…·å®ç°éœ€æ±‚åˆ†æã€æ¶æ„è®¾è®¡å’Œä»£ç å®ç°
- ğŸ› ï¸ AIè¾…åŠ©è°ƒè¯•å’Œæ€§èƒ½ä¼˜åŒ–çš„æœ€ä½³å®è·µ
- ğŸ”§ AIç”Ÿæˆä»£ç çš„è´¨é‡æ§åˆ¶å’Œäººå·¥å®¡æŸ¥æµç¨‹
- ğŸ“Š å…¨æ ˆåº”ç”¨å¼€å‘ä¸­AIçš„ä¼˜åŠ¿å’Œå±€é™æ€§

é€šè¿‡å­¦ä¹ æœ¬é¡¹ç›®ï¼Œä½ å°†ä½“éªŒåˆ°AIå¦‚ä½•æ˜¾è‘—æå‡å¼€å‘æ•ˆç‡ï¼Œå‡å°‘é‡å¤å·¥ä½œï¼Œå¹¶å¸®åŠ©å¼€å‘è€…ä¸“æ³¨äºåˆ›æ„å’Œç”¨æˆ·ä½“éªŒã€‚æ— è®ºä½ æ˜¯æƒ³å­¦ä¹ å¾®ä¿¡å°ç¨‹åºå¼€å‘ï¼Œè¿˜æ˜¯æ¢ç´¢AIåœ¨è½¯ä»¶å·¥ç¨‹ä¸­çš„åº”ç”¨ï¼Œè¿™ä¸ªé¡¹ç›®éƒ½èƒ½æä¾›å®è´µçš„å‚è€ƒä»·å€¼ã€‚

### â±ï¸ æƒŠäººçš„å¼€å‘é€Ÿåº¦

åœ¨ä¼ ç»Ÿå¼€å‘æ–¹å¼ä¸‹éœ€è¦æ•°å‘¨å®Œæˆçš„é¡¹ç›®ï¼Œå€ŸåŠ©AIè¾…åŠ©å¼€å‘ä»…ç”¨äº†**10å¤©**å°±å®Œæˆäº†ä»æ„æ€åˆ°ä¸Šçº¿çš„å…¨è¿‡ç¨‹ï¼

| å¼€å‘é˜¶æ®µ | ä¼ ç»Ÿæ–¹å¼ | AIè¾…åŠ©æ–¹å¼ |
|---------|---------|------------|
| éœ€æ±‚åˆ†æ | 5-7å¤©   | 30åˆ†é’Ÿ        |
| ç³»ç»Ÿè®¾è®¡ | 3-5å¤©   | 40åˆ†é’Ÿ        |
| åç«¯å¼€å‘ | 7-14å¤©  | 40åˆ†é’Ÿ        |
| å‰ç«¯å¼€å‘ | 7-14å¤©  | 40åˆ†é’Ÿ        |
| ç³»ç»Ÿé›†æˆ | 3-5å¤©   | 30åˆ†é’Ÿ        |
| éƒ¨ç½²ä¸Šçº¿ | 3-5å¤©   | 2å¤©        |
| æ–‡æ¡£ç¼–å†™ | 3-7å¤©   | 1å¤©        |

### ğŸ“š å®Œæ•´çš„å­¦ä¹ èµ„æº

> ğŸ“ æŸ¥çœ‹[å¼€å‘æ—¥å¿—](docs/dev-journey.md)äº†è§£æœ¬é¡¹ç›®ä»æ„æ€åˆ°å®Œæˆçš„å…¨è¿‡ç¨‹ï¼Œä»¥åŠAIåœ¨æ¯ä¸ªå¼€å‘é˜¶æ®µçš„å…·ä½“åº”ç”¨ã€‚
>
> ğŸ’» æ‰€æœ‰ä»£ç éƒ½åŒ…å«è¯¦ç»†æ³¨é‡Šï¼Œè¯´æ˜AIç”Ÿæˆä»£ç çš„æ€è·¯å’Œé€»è¾‘ã€‚
>
> ğŸ“– é¡¹ç›®åŒ…å«å¤šç§æŠ€æœ¯æ ˆçš„å®è·µæ¡ˆä¾‹ï¼šå¾®ä¿¡å°ç¨‹åºã€Java Spring Bootã€AIæ¨¡å‹é›†æˆã€‚ 

### star è¶‹åŠ¿å›¾

[![Star History Chart](https://api.star-history.com/svg?repos=freestylefly/wechat-mini&type=Date)](https://star-history.com/#freestylefly/wechat-mini&Date)

### å…³æ³¨å…¬ä¼—å·

å¾®ä¿¡æœ **è‹ä½•** æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨è‹ä½•çš„åŸåˆ›å…¬ä¼—å·ï¼Œå›å¤ **666** å³å¯å…è´¹é¢†å– 2000G AI ç¼–ç¨‹å­¦ä¹ èµ„æºã€‚

![è‹ä½•å¾®ä¿¡å…¬ä¼—å·](https://cdn.tobebetterjavaer.com/stutymore/%E6%89%AB%E7%A0%81_%E6%90%9C%E7%B4%A2%E8%81%94%E5%90%88%E4%BC%A0%E6%92%AD%E6%A0%B7%E5%BC%8F-%E6%A0%87%E5%87%86%E8%89%B2%E7%89%88.png)