# 八字命理小助手产品需求文档 (PRD)

## 1. 文档信息

| 文档名称 | 八字命理小助手产品需求文档 |
|---------|-------------------------|
| 版本号   | V1.0.0                  |
| 状态     | 初稿                    |
| 作者     | 产品团队                 |
| 创建日期 | 2023-07-01              |
| 最后更新 | 2023-07-01              |

## 2. 修订历史

| 版本号 | 修订日期 | 修订内容 | 作者 |
|-------|---------|---------|-----|
| V1.0.0 | 2023-07-01 | 初稿创建 | 产品团队 |

## 3. 产品概述

### 3.1 产品背景

随着人们对传统文化的重新认识和关注，命理学作为中国传统文化的重要组成部分，越来越受到现代人的青睐。然而，传统命理学涉及复杂的天干地支、五行计算，普通用户难以掌握。同时，AI技术的快速发展为传统文化的现代化传播提供了新的可能性。八字命理小助手正是基于这一背景，旨在将传统命理学与现代科技相结合，为用户提供简单易用的命理分析工具。

### 3.2 产品定义

八字命理小助手是一款微信小程序，用户只需输入阳历出生日期和时辰，系统即可自动计算对应的农历日期、天干地支、五行属性、五行缺失情况及生肖信息，为用户提供基础的命理分析服务。

### 3.3 目标用户

- 25-45岁对命理学有兴趣的都市人群
- 对中国传统文化感兴趣的年轻人群
- 寻求自我了解和人生参考的普通用户

### 3.4 商业目标

- 小程序月活用户目标：5万人
- 转化为付费用户比例：5%
- 首年营收目标：15万元

## 4. 产品功能需求

### 4.1 用户界面与交互设计

#### 4.1.1 首页设计

首页采用中国传统山水画风格设计，呈现古典文化氛围。

**界面元素：**
- 顶部显示产品名称"阳历-农历"
- 中部显示产品简介"天干、地支，一键计算。"
- 底部绿色主按钮"开始计算"
- 整体背景为淡雅的中国传统山水画，展现亭台楼阁、云雾山水元素

#### 4.1.2 信息输入页

**界面元素：**
- 保持首页的设计风格，顶部为相同背景图
- 页面中部为表单区域，包含两个主要输入项：
  - "请选择出生日期(阳历)"输入框
  - "请选择出生时辰"输入框
- 底部为绿色"计算"按钮

**交互流程：**
- 点击日期输入框，弹出日期选择器，支持年月日滚动选择
- 点击时辰输入框，弹出时辰选择器
- 所有必要信息填写完毕后，"计算"按钮高亮可点击

#### 4.1.3 结果展示页

**界面元素：**
- 保持一致的背景设计风格
- 页面顶部显示"计算结果"标题
- 结果区域采用清晰的表格式布局，包含以下信息：
  - 输入日期
  - 农历日期
  - 天干地支
  - 所属五行
  - 五行缺失
  - 所属生肖
- 页面底部显示备注信息
- 最下方为绿色"再来一次"按钮

**数据展示：**
- 输入日期：以"YYYY-MM-DD"格式显示
- 农历日期：以中文形式显示，如"二月廿三"
- 天干地支：以"天干-地支"格式显示四柱
- 所属五行：显示对应的五行属性
- 五行缺失：显示缺失的五行元素
- 所属生肖：显示对应的生肖

### 4.2 功能模块详细说明

#### 4.2.1 阳历转农历计算功能

**功能描述：**
根据用户输入的阳历日期，自动计算对应的农历日期。

**技术实现：**
- 使用农历转换算法库
- 支持1900年至2100年的日期转换
- 考虑闰月情况

**输入/输出：**
- 输入：阳历年月日（YYYY-MM-DD）
- 输出：农历年月日（文字形式）

**异常处理：**
- 非法日期处理：提示"请输入有效日期"
- 超出支持范围：提示"当前仅支持1900年至2100年的日期转换"

#### 4.2.2 天干地支计算功能

**功能描述：**
根据用户的农历出生年、月、日、时，计算对应的天干地支四柱。

**技术实现：**
- 使用传统命理学中的天干地支计算规则
- 年柱：根据农历年计算
- 月柱：根据农历月及年干计算
- 日柱：根据农历日期及月干计算
- 时柱：根据时辰及日干计算

**输入/输出：**
- 输入：农历年月日时
- 输出：年柱、月柱、日柱、时柱的天干地支组合

#### 4.2.3 五行分析功能

**功能描述：**
根据用户的四柱天干地支，分析对应的五行属性及缺失情况。

**技术实现：**
- 根据命理学规则，对天干地支进行五行属性映射
- 统计各五行（金、木、水、火、土）的出现次数
- 分析五行平衡情况，确定五行缺失

**输入/输出：**
- 输入：四柱天干地支
- 输出：
  - 各天干地支对应的五行属性
  - 五行缺失情况

#### 4.2.4 生肖查询功能

**功能描述：**
根据用户的农历出生年，确定对应的生肖。

**技术实现：**
- 使用农历年份与十二生肖的对应关系表
- 考虑春节前后的特殊情况

**输入/输出：**
- 输入：农历出生年
- 输出：对应的生肖

## 5. 非功能需求

### 5.1 性能需求

- 页面加载时间：首次打开小程序不超过3秒
- 计算响应时间：点击计算按钮后，结果显示时间不超过1秒
- 稳定性：日常使用崩溃率低于0.1%

### 5.2 安全需求

- 用户数据加密：对用户出生日期等敏感信息进行加密存储
- 隐私保护：明确用户数据使用范围，不得未经授权向第三方分享用户信息
- 合规要求：遵循微信小程序相关政策，避免违规内容

### 5.3 用户体验需求

- 界面美观：采用一致的中国传统风格设计
- 操作简单：减少操作步骤，最多3步即可获得结果
- 信息清晰：结果页面信息层次分明，易于理解

### 5.4 技术与兼容性需求

- 支持所有微信版本大于7.0.0的环境
- 适配主流机型，包括iOS和Android系统
- 适配不同屏幕尺寸（包括但不限于：iPhone SE至iPhone Pro Max）

## 6. 开发规范

### 6.1 技术选型

- 前端：微信小程序原生开发
- 后端：微信小程序云开发
- 数据库：云开发数据库
- 第三方库：
  - 农历转换算法库
  - 五行计算库

### 6.2 代码规范

- 遵循微信小程序开发规范
- 采用ES6及以上语法标准
- 完善的注释和文档

### 6.3 设计规范

- 色彩：主色调为青绿色(#3CB371)，辅以传统中国风元素颜色
- 字体：默认使用系统字体，重要信息使用加粗处理
- 图标：统一使用微信小程序内置图标或自定义中国风图标
- 布局：采用竖向排列，重要信息居中展示

## 7. 里程碑与交付计划

### 7.1 开发里程碑

| 阶段 | 时间 | 主要任务 | 交付物 |
|-----|------|---------|-------|
| 需求分析 | 第1周 | 明确需求，完成PRD | PRD文档，原型图 |
| 设计阶段 | 第2周 | UI设计，技术方案 | UI设计稿，技术方案文档 |
| 开发阶段 | 第3-4周 | 前后端功能开发 | 可运行的代码 |
| 测试阶段 | 第5周 | 功能测试，修复bug | 测试报告，BUG修复记录 |
| 上线准备 | 第6周 | 预发布，提交审核 | 小程序发布版本 |

### 7.2 MVP版本范围

**包含功能：**
- 阳历日期和时辰输入
- 农历日期转换
- 天干地支计算
- 五行属性及缺失分析
- 生肖查询
- 基础结果展示

**不包含功能：**
- AI命理解读
- 数据保存
- 多人信息管理
- 分享功能
- 会员付费功能

## 8. 风险评估

### 8.1 技术风险

- 农历转换算法准确性：确保农历计算的精确性，特别是处理闰月等特殊情况
- 天干地支计算复杂性：正确实现传统命理学的计算规则
- 微信小程序审核风险：确保内容不违反微信小程序政策

### 8.2 业务风险

- 用户接受度：传统命理学概念对普通用户可能存在理解障碍
- 差异化竞争：市场上已有类似产品，需突出特色
- 内容合规：避免涉及迷信内容，确保文化传播的积极性

### 8.3 规避措施

- 严格测试各类算法，确保计算结果准确性
- 产品说明中明确声明"仅供娱乐参考"
- 优化用户体验，降低使用门槛
- 提供科普知识，帮助用户理解传统文化内涵

## 9. 附录

### 9.1 名词解释

- **天干**：甲、乙、丙、丁、戊、己、庚、辛、壬、癸
- **地支**：子、丑、寅、卯、辰、巳、午、未、申、酉、戌、亥
- **五行**：金、木、水、火、土
- **八字**：由年、月、日、时的天干地支组成，共八个字

### 9.2 参考资料

- 《命理学基础理论》
- 《天干地支历法研究》
- 微信小程序设计指南

### 9.3 原型图与设计稿

产品设计方向参考如下图示：

1. 首页：以中国传统山水画为背景，简洁展示产品名称和主功能按钮
2. 信息输入页：保持一致风格，清晰展示输入项和操作按钮
3. 结果展示页：清晰展示计算结果，包含所有核心信息 